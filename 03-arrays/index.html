<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Arrays</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../assets/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-753e6901f2c274e22bcfe03890f74e5f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CES9J82GLL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CES9J82GLL', { 'anonymize_ip': true});
</script>
<!--<script async src=”https://siteimproveanalytics.com/js/siteanalyze_6294756.js”></script>-->


<link rel="stylesheet" href="../assets/styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#definitions" id="toc-definitions" class="nav-link active" data-scroll-target="#definitions">Definitions</a>
  <ul class="collapse">
  <li><a href="#todays-dataset" id="toc-todays-dataset" class="nav-link" data-scroll-target="#todays-dataset">Today’s dataset</a></li>
  </ul></li>
  <li><a href="#creating-arrays" id="toc-creating-arrays" class="nav-link" data-scroll-target="#creating-arrays">Creating arrays</a></li>
  <li><a href="#element-wise-arithmetic" id="toc-element-wise-arithmetic" class="nav-link" data-scroll-target="#element-wise-arithmetic">Element-wise arithmetic</a></li>
  <li><a href="#indexing" id="toc-indexing" class="nav-link" data-scroll-target="#indexing">Indexing</a>
  <ul class="collapse">
  <li><a href="#the-array-method-item" id="toc-the-array-method-item" class="nav-link" data-scroll-target="#the-array-method-item">The Array Method <code>item()</code></a></li>
  </ul></li>
  <li><a href="#array-functions" id="toc-array-functions" class="nav-link" data-scroll-target="#array-functions">Array Functions</a>
  <ul class="collapse">
  <li><a href="#built-in-functions" id="toc-built-in-functions" class="nav-link" data-scroll-target="#built-in-functions">Built-in functions</a></li>
  <li><a href="#numpy-functions" id="toc-numpy-functions" class="nav-link" data-scroll-target="#numpy-functions">NumPy functions</a></li>
  <li><a href="#numpy-array-function-table" id="toc-numpy-array-function-table" class="nav-link" data-scroll-target="#numpy-array-function-table">NumPy Array Function Table</a></li>
  </ul></li>
  <li><a href="#external-reading" id="toc-external-reading" class="nav-link" data-scroll-target="#external-reading">External Reading</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Arrays</h1>
<p class="subtitle lead">Our first data structure</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This note has the following goals:</p>
<ul>
<li>Understand what is an array.</li>
<li>Call built-in functions and NumPy functions on arrays.</li>
<li>Access individual elements of an array with indexing</li>
</ul>
<p>We will first learn arrays through analyzing data; then, we will drill into array internals and the nitty-gritty of Python modules and methods. Finally, we will summarize array operations.</p>
<section id="definitions" class="level2">
<h2 class="anchored" data-anchor-id="definitions">Definitions</h2>
<p>Let us discuss our first data structure in this course: <strong>arrays</strong>. An <strong>array</strong> is a sequential collection of values of a given data type:</p>
<ul>
<li>sequential: arranged like a line/queue</li>
<li>collection: multiple values organized together.</li>
</ul>
<p>In arrays, each value is called an array <strong>element</strong>.</p>
<p>We have previously discussed the idea of tables: a rectangular data structure with rows and columns. We will see today that <strong>arrays are a concise way to manipulate table columns</strong>, because arrays facilitate common data processing that we may want to perform on columns.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Read _Inferential Thinking_">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Read <em>Inferential Thinking</em>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Read <a href="https://inferentialthinking.com/chapters/05/1/Arrays.html">Ch 5.1</a>, which describes in detail how arrays can be used in arithmetic expressions to compute over their contents.</p>
<p>Before continuing, make sure that: * You understand the figure that shows how to convert an array of Celsius temperatures to an array of Farenheit temperatures.</p>
</div>
</div>
<section id="todays-dataset" class="level3">
<h3 class="anchored" data-anchor-id="todays-dataset">Today’s dataset</h3>
<p>The following table is drawn from the American Community Survey (ACS) of 2020. It shows education levels of adults 25 years or higher by state.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>State</th>
<th>Estimated total state population</th>
<th>Estimated high school graduate or higher (%)</th>
<th>Estimated bachelor’s degree or higher (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Alabama</td>
<td>3,344,006</td>
<td>86.9</td>
<td>26.2</td>
</tr>
<tr class="even">
<td>California</td>
<td>26,665,143</td>
<td>83.9</td>
<td>34.7</td>
</tr>
<tr class="odd">
<td>Florida</td>
<td>15,255,326</td>
<td>88.5</td>
<td>30.5</td>
</tr>
<tr class="even">
<td>New York</td>
<td>13,649,157</td>
<td>87.2</td>
<td>37.5</td>
</tr>
<tr class="odd">
<td>Texas</td>
<td>18,449,851</td>
<td>84.4</td>
<td>30.7</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="creating-arrays" class="level2">
<h2 class="anchored" data-anchor-id="creating-arrays">Creating arrays</h2>
<p>Each of these table columns can be represented by an array.</p>
<p>Below, we create a new array for the column “Estimated high school graduate or higher (%)” and assign the returned array to a single name, <code>hs_or_higher</code>. This simple assignment statement is abstraction at work! Also note that the import statement gives us access to array functions with the <code>datascience</code> module, including <code>make_array</code>, which returns a new array with the provided argument values.</p>
<div id="5ae44ca6" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datascience <span class="im">import</span> <span class="op">*</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>hs_or_higher <span class="op">=</span> make_array(<span class="fl">86.9</span>, <span class="fl">83.9</span>, <span class="fl">88.5</span>, <span class="fl">87.2</span>, <span class="fl">84.4</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>hs_or_higher</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>array([ 86.9,  83.9,  88.5,  87.2,  84.4])</code></pre>
</div>
</div>
<p>Let’s make a few more arrays.</p>
<p>The array data type (as shown below) is a bit esoteric for now; we will discuss what NumPy (<code>np</code>) is very soon.</p>
<div id="94420775" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>bs_or_higher <span class="op">=</span> make_array(<span class="fl">26.2</span>, <span class="fl">34.7</span>, <span class="fl">30.5</span>, <span class="fl">37.5</span>, <span class="fl">30.7</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(bs_or_higher)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>numpy.ndarray</code></pre>
</div>
</div>
<p>When creating the state names array of strings below, what do you observe about the datatype, <code>dtype</code>? Hint: Count the number of characters in each string.</p>
<div id="52c7b38d" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>states <span class="op">=</span> make_array(<span class="st">"Alabama"</span>, <span class="st">"California"</span>, <span class="st">"Florida"</span>, <span class="st">"New York"</span>, <span class="st">"Texas"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>states</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>array(['Alabama', 'California', 'Florida', 'New York', 'Texas'],
      dtype='&lt;U10')</code></pre>
</div>
</div>
<p>When creating the state population array below, why might we decide to make an integer array, as opposed to a string array?</p>
<div id="2f1d258f" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>state_pop <span class="op">=</span> make_array(<span class="dv">3344006</span>, <span class="dv">26665143</span>, <span class="dv">15255326</span>, <span class="dv">13649157</span>, <span class="dv">18449851</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>state_pop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>array([ 3344006, 26665143, 15255326, 13649157, 18449851])</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="More array details">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
More array details
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The order of an array is fixed (i.e., they will be arranged in the order specified when building the array), and values can be repeated.</p>
<p>Array with 4 <code>int</code>s:</p>
<div id="33a86f8c" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>make_array(<span class="dv">5</span>, <span class="op">-</span><span class="dv">1</span>, <span class="fl">0.3</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>array([ 5. , -1. ,  0.3,  5. ])</code></pre>
</div>
</div>
<p>Values in an array must all be of the same data type, and the <code>make_array</code> function will cast appropriately. Below, all values can be represented by strings:</p>
<div id="74b6a9bd" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>make_array(<span class="dv">4</span>, <span class="op">-</span><span class="fl">4.5</span>, <span class="st">"not a number"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>array(['4', '-4.5', 'not a number'],
      dtype='&lt;U32')</code></pre>
</div>
</div>
<p>Incidentally, we can clean up our code stylistically by makine line breaks after each argument:</p>
<div id="5dfb082f" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>make_array(<span class="st">"hello"</span>,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">"world"</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>           <span class="st">"!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>array(['hello', 'world', '!'],
      dtype='&lt;U5')</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="element-wise-arithmetic" class="level2">
<h2 class="anchored" data-anchor-id="element-wise-arithmetic">Element-wise arithmetic</h2>
<p>Arrays allow us to write code that performs <strong>the same operation on many pieces of data at once</strong>. We can therefore easily use arithmetic operations on elements of numeric arrays where it “makes sense” (see sidenote).</p>
<p>To compute the estimated percentage by state of adults 25 years or higher that have not graduated high school, we can create a new array by performing arithmetic with an <strong>array and a numeric value</strong>:</p>
<div id="56620576" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span> <span class="op">-</span> hs_or_higher</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>array([ 13.1,  16.1,  11.5,  12.8,  15.6])</code></pre>
</div>
</div>
<p>To compute the estimated number by state of adults 25 years or higher with bachelor’s degrees, we can create a new array by performing arithmetic with <strong>two arrays</strong>:</p>
<div id="18bd5493" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>bs_or_higher <span class="op">/</span> <span class="dv">100</span> <span class="op">*</span> state_pop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>array([  876129.572,  9252804.621,  4652874.43 ,  5118433.875,  5664104.257])</code></pre>
</div>
</div>
<p>Sidenote: What do I mean by “makes sense”? Linear Algebra is a broad mathematical field that forms the foundations of much of data science and tabular data analysis. This element-wise array functionality is derived from the mathematical definitions of vectors and scalars. Take a linear algebra class if you want to learn more!</p>
</section>
<section id="indexing" class="level2">
<h2 class="anchored" data-anchor-id="indexing">Indexing</h2>
<p>When people stand in a line, each person has a position. Similarly, each <strong>element</strong> (i.e., value) of an array has a position – called its <strong>index</strong>. Python, like many programming languages, is <strong>zero-indexed</strong>. This means that in an array, the first element has index 0, not 1.</p>
<p>In the <code>int_arr</code> array below, the first element (<code>3</code>) has index 0; the last element (<code>2</code>) has index 4.</p>
<div id="6d49cdaf" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>int_arr <span class="op">=</span> make_array(<span class="dv">3</span>, <span class="op">-</span><span class="dv">4</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>int_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>array([ 3, -4,  0,  5,  2])</code></pre>
</div>
</div>
<section id="the-array-method-item" class="level3">
<h3 class="anchored" data-anchor-id="the-array-method-item">The Array Method <code>item()</code></h3>
<p>An array <strong>method</strong> is just like a function, but it must operate on an array using <strong>“dot” syntax</strong>. So the call looks like:</p>
<pre><code>name_of_array.method(arguments)</code></pre>
<p>We will discuss many more methods once we introduce tables, but for now let’s learn our first method to index arrays.</p>
<p>We can access an element in an array by using its index and the <code>item()</code> method:</p>
<div id="cf30485c" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>int_arr.item(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>3</code></pre>
</div>
</div>
<div id="3599db74" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>int_arr.item(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>5</code></pre>
</div>
</div>
<p>Because of zero-indexing, the largest valid index is 4 for the five-element <code>int_arr</code> array:</p>
<div id="0f3cc6e5" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>int_arr.item(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[13]</span><span class="ansi-green-fg">, line 1</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">1</span> <span class="ansi-yellow-bg">int_arr</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">item</span><span class="ansi-yellow-bg">(</span><span class="ansi-green-fg ansi-yellow-bg">5</span><span class="ansi-yellow-bg">)</span>

<span class="ansi-red-fg">IndexError</span>: index 5 is out of bounds for axis 0 with size 5</pre>
</div>
</div>
</div>
<p>In Python, we can also “count backwards” using <strong>negative indexes</strong>. -1 corresponds to the last element in a array; -2 corresponds to the second last element in a array; and so on.</p>
<div id="0b318993" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># functionally equivalent to int_arr.item(4)</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>int_arr.item(<span class="op">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>2</code></pre>
</div>
</div>
</section>
</section>
<section id="array-functions" class="level2">
<h2 class="anchored" data-anchor-id="array-functions">Array Functions</h2>
<p>As data scientists we may find it useful to perform operations on arrays beyond simple element-wise arithmetic operations. We can do so via a range of functions from different sources.</p>
<p>Here are some starter arrays to get us going. What are the resulting arrays created?</p>
<div id="9725605f" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>int_arr <span class="op">=</span> make_array(<span class="dv">3</span>, <span class="op">-</span><span class="dv">4</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>str_arr <span class="op">=</span> make_array(<span class="st">"cm"</span>, <span class="st">"m"</span>, <span class="st">"in"</span>, <span class="st">"ft"</span>, <span class="st">"yd"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>empty_arr <span class="op">=</span> make_array() <span class="co"># challenge</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Arrays created">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Arrays created
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="cf04f6a1" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>int_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>array([ 3, -4,  0,  5,  2])</code></pre>
</div>
</div>
<div id="8cac2f86" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>str_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>array(['cm', 'm', 'in', 'ft', 'yd'],
      dtype='&lt;U2')</code></pre>
</div>
</div>
<p>An <strong>empty</strong> array is one with no elements:</p>
<div id="06306bcf" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>empty_arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>array([], dtype=float64)</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>We will describe the syntax and terminology of built-in and NumPy functions below, then provide a table of operations. Here’s how we suggest working through this section:</p>
<ol type="1">
<li>Don’t memorize these functions!</li>
<li>Instead, remember there are two types of functions for arrays: built-in functions and NumPy functions.</li>
<li>Get familiar with two tables, copied below. Get familiar with reading this tabl documentation to understand how each function works.</li>
<li>When writing your programs, look through these functions and see which function(s) can compose your solution.</li>
</ol>
<section id="built-in-functions" class="level3">
<h3 class="anchored" data-anchor-id="built-in-functions">Built-in functions</h3>
<p>Some <strong>built-in functions</strong> (i.e., included with Python) can take in arrays as arguments.</p>
<p>Here is a table of example built-in functions for arrays. Again, don’t memorize the functions. Rather, get familiar with reading and predicting their outputs.</p>
<table class="caption-top table">
<caption>Built-in Python functions that take in array arguments.</caption>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Expression and Return value</th>
<th>Example(s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>len(arr)</code> Length of an array, providing the number of elements it contains. Useful for determining the size of an array dynamically.</td>
<td><code>len(str_arr)   # 5</code> <br> <code>len(empty_arr) # 0</code></td>
</tr>
<tr class="even">
<td><code>max(arr)</code> The largest value within an array.</td>
<td><code>max(int_arr)    # 5</code> <br> <code>max(str_arr)   # 'yd'</code></td>
</tr>
<tr class="odd">
<td><code>min(arr)</code> The smallest value within an array.</td>
<td><code>min(int_arr)</code></td>
</tr>
<tr class="even">
<td><code>sum(arr)</code> Sum of all values in an array.</td>
<td><code>sum(int_arr)   # 6</code> <br> <code>sum(str_arr)   # TypeError</code></td>
</tr>
</tbody>
</table>
<div class="callout callout-style-default callout-note callout-titled" title="Note 1: Argument data types">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note 1: Argument data types
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Remember that even though function names can be identical, call expressions can evaluate differently depending on the argument data type. <code>len(arg)</code>, for example, returns an integer value indicating the “length” of the argument <code>arg</code>. If <code>arg</code> is a string, it returns the number of characters; if <code>arg</code> is an array, it returns the number of elements.</p>
<div id="a1cec223" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(str_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>5</code></pre>
</div>
</div>
<div id="63549f6a" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(str_arr.item(<span class="dv">0</span>)) <span class="co"># what is the argument here?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>2</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Note 2: Expressions with string arrays">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note 2: Expressions with string arrays
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>As you may have noticed above, calling these functions on strings return some seemingly bizarre values. After all, what does it mean to get the maximum value of an array of strings?</p>
<p>Instead of erroring out, the Pythonic convention is to consider alphabetic sorting as a way of ordering elements—hence, <code>"yd"</code> comes alphabetically after <code>"cm"</code> and <code>"ft"</code>, and so on.</p>
<p>We will not cover string comparisons in detail in this course. If you are curious about these algorithms, we encourage you to take a Data Structures course!</p>
</div>
</div>
</div>
<p>Let’s use these built-in functions to compute the <em>average</em> (<em>mean</em>) value of the below array. We will discuss measures of average much later in this course.</p>
<div id="3479b808" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> make_array(<span class="dv">30</span>, <span class="op">-</span><span class="dv">40</span>, <span class="op">-</span><span class="fl">4.5</span>, <span class="dv">0</span>, <span class="dv">35</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>avg <span class="op">=</span> <span class="bu">sum</span>(arr)<span class="op">/</span><span class="bu">len</span>(arr)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>avg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>4.0999999999999996</code></pre>
</div>
</div>
<p>Due to approximations in how the computer stores and operates on floats, the above number is as close to 4.1 (the true numeric average) as we can get with our Python calculator. Take a computer systems or computer architecture course for more information!</p>
</section>
<section id="numpy-functions" class="level3">
<h3 class="anchored" data-anchor-id="numpy-functions">NumPy functions</h3>
<p>NumPy (pronounced “NUM-pie”) is a Python library with convenient and powerful modules and functions for manipulating arrays. Any time we want to use NumPy, we must write an import statement:</p>
<div id="d406f977" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> make_array(<span class="dv">30</span>, <span class="op">-</span><span class="dv">40</span>, <span class="op">-</span><span class="fl">4.5</span>, <span class="dv">0</span>, <span class="dv">35</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>arr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>array([ 30. , -40. ,  -4.5,   0. ,  35. ])</code></pre>
</div>
</div>
<p>After putting this statement at the top of our notebook, we can then prepend <code>np.</code> to call a NumPy function. The below NumPy function call computes averages much more conveniently than our clever (but verbose) expression with built-in function calls, though it still suffers from floating point approximations:</p>
<div id="84f44077" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>np.average(arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>4.0999999999999996</code></pre>
</div>
</div>
</section>
<section id="numpy-array-function-table" class="level3">
<h3 class="anchored" data-anchor-id="numpy-array-function-table">NumPy Array Function Table</h3>
<p>There are many, many types of NumPy array functions; the below table only scratches the surface of what is possible. Again, instead of memorizing functions, we encourage you to learn how to read documentation by considering the following:</p>
<ol type="1">
<li>What is the function name? How is this name informed by the function description?</li>
<li>What is the return value of this function?
<ul>
<li>If the data type of the return value is an array, is it the same length as the original array? Is the function therefore operating element-wise on the original array?</li>
<li>If the data type of the return value is a single value, how is this value computed from the different elements of the original array?</li>
</ul></li>
<li>Is the function changing the contents of the original array?</li>
</ol>
<p>The answer to question 3 is <strong>no</strong> for all array functions we will cover in this course. <strong>All array functions return a new array</strong>.</p>
<table class="caption-top table">
<caption>A subset of NumPy array functions. A full reference is in the Data 6 reference sheet.</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>NumPy function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>np.average(arr)</code> <br> <code>np.mean(arr)</code></td>
<td>The average (i.e., mean) value of <code>arr</code></td>
</tr>
<tr class="even">
<td><code>np.sum(arr)</code></td>
<td>The sum of all elements in <code>arr</code></td>
</tr>
<tr class="odd">
<td><code>np.prod(arr)</code></td>
<td>The product of all elements in <code>arr</code></td>
</tr>
<tr class="even">
<td><code>np.count_nonzero(arr)</code></td>
<td>The number of elements in arr that are not equal to 0</td>
</tr>
<tr class="odd">
<td><code>np.diff(arr)</code></td>
<td>The difference between each element and the previous one value of <code>arr</code>. Returns an array of length 1 <em>less</em> than the original.</td>
</tr>
<tr class="even">
<td><code>np.cumsum(arr)</code></td>
<td>The cumulative sum of all elements in <code>arr</code>.</td>
</tr>
<tr class="odd">
<td><code>np.sqrt(arr)</code></td>
<td>The square roots of each element in <code>arr</code>.</td>
</tr>
<tr class="even">
<td><code>np.log(arr)</code></td>
<td>The natural logarithm of each element in <code>arr</code>.</td>
</tr>
<tr class="odd">
<td><code>np.log10(arr)</code></td>
<td>The base-10 logarithm of each element in <code>arr</code>.</td>
</tr>
</tbody>
</table>
<p>Refer to the lecture notebook for example call expressions involving these NumPy functions. Refer to the <strong>Data 6 reference sheet</strong> for all functions we will expect you to be familiar with (not memorize!) in this course.</p>
</section>
</section>
<section id="external-reading" class="level2">
<h2 class="anchored" data-anchor-id="external-reading">External Reading</h2>
<ul>
<li>(mentioned in notes) <em>Computational and Inferential Thinking</em>, <a href="https://inferentialthinking.com/chapters/05/1/Arrays.html">Ch 5.1</a></li>
<li>(optional) Tomas Beuzen. <em>Python Programming for Data Science</em> <a href="https://www.tomasbeuzen.com/python-programming-for-data-science/chapters/chapter1-basics.html#basic-python-data-types">Ch 1.2</a>.</li>
</ul>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>U.S. Census Bureau, “EDUCATIONAL ATTAINMENT,” American Community Survey 5-Year Estimates Subject Tables, Table S1501, 2020, <a href="https://data.census.gov/table/ACSST5Y2020.S1501?q=2020+education&amp;t=Age+and+Sex:Educational+Attainment&amp;g=010XX00US$0400000" class="uri">https://data.census.gov/table/ACSST5Y2020.S1501?q=2020+education&amp;t=Age+and+Sex:Educational+Attainment&amp;g=010XX00US$0400000</a>, accessed on August 24, 2025.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/data-6-berkeley\.github\.io\/notes\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../index.html">
<p>Home / About / License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/data-6-berkeley">
<p>GitHub</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://dap.berkeley.edu/get-help/report-web-accessibility-issue">
<p>Accessibility</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://ophd.berkeley.edu/policies-and-procedures/nondiscrimination-policy-statement">
<p>Nondiscrimination</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>