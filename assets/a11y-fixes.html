<script>
    document.addEventListener("DOMContentLoaded", function() {
    // 1. Select the specific parent div within the callout header that has the 
    //    collapse attributes (data-bs-toggle).
    var calloutToggles = document.querySelectorAll(
        '.callout-header[data-bs-toggle="collapse"]'
    );

    calloutToggles.forEach(function(toggle) {
        // 2. Force the ARIA role to be 'button'
        // This is crucial because a 'div' is not allowed to use aria-expanded.
        toggle.setAttribute('role', 'button');
        
        // 3. Ensure it is keyboard-focusable (critical for accessibility)
        // Bootstrap usually handles this, but forcing it is safer.
        if (toggle.getAttribute('tabindex') === null) {
             toggle.setAttribute('tabindex', '0');
        }
    });

    // 1. Target all code blocks (Source Code and Code Output <pre> elements)
    // that are scrollable (have overflow:auto/scroll).
    var scrollableRegions = document.querySelectorAll(
        // 1. Source Code <pre>
        'div.sourceCode > pre, ' + 
        
        // 2. Output <pre> inside a generic cell-output (Handles .cell-output-stdout.cell-output > pre and .cell-output-display.cell-output > pre)
        '.cell-output > pre, ' + 
        
        // 3. The main DIV container for cell-output-display (Handles #ID > .cell-output-display.cell-output)
        '.cell-output-display.cell-output'
    );

    scrollableRegions.forEach(function(region) {
        // Check if the element actually has horizontal overflow (is scrollable)
        // Add tabindex="0" to make the region keyboard-focusable.
        if (region.getAttribute('tabindex') === null || region.getAttribute('tabindex') === undefined) {
             region.setAttribute('tabindex', '0');
        }
    });
});
</script>