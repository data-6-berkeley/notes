<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>HTML and BeautifulSoup</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../18-html/genius.html" rel="next">
<link href="../17-dictionaries/file-formats.html" rel="prev">
<link href="../assets/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-1b378448c96145639a45d0cc9a697531.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CES9J82GLL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CES9J82GLL', { 'anonymize_ip': true});
</script>
<!--<script async src=”https://siteimproveanalytics.com/js/siteanalyze_6294756.js”></script>-->


<link rel="stylesheet" href="../assets/styles.css">
<link rel="stylesheet" href="../assets/custom-error-colors.css">
</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../18-html/index.html">L18: HTML and Web Scraping</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../assets/data6.png" alt="Data 6 logo" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="../assets/data6.png" alt="Data 6 logo" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">DATA 6 <br><small>Course Notes</small></a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/data-6-berkeley/notes" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home / About</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../01-intro/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L01: Introduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-intro/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-intro/jupyter-notebook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter Notebooks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01-intro/programming-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programming Basics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../02-datatypes/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L02: Data Types</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02-datatypes/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numeric and String Data Types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02-datatypes/rates-incidence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Application: Rates and Incidence</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../03-arrays/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L03: Arrays</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-arrays/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Arrays</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03-arrays/numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NumPy and Array Functions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../04-tables/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L04: Table Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04-tables/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Table Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04-tables/exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Table Exercises</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../04-tables/none-print.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">None and Print</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../05-variables/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L05: Variables in Social Science</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-variables/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variables and Variable Types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../05-variables/units-of-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Units of Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../06-variables-ii/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L06: Variables II</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../06-variables-ii/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Causality vs.&nbsp;EDA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../06-variables-ii/sample-population.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sample vs.&nbsp;Population</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../07-visualizations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L07: Visualizations</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../07-visualizations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualizations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../07-visualizations/encoding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Encoding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../07-visualizations/charts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bar Charts, Scatter Plots, Line Graphs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../08-histograms/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L08: Histograms</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-histograms/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Histograms and Ranges</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../08-histograms/exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../09-summary-statistics/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L09: Summary Statistics and Box Plots</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-summary-statistics/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Percentiles and Box Plots</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../09-summary-statistics/center-spread.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Center and Spread</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../10-boolean-predicates/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L10: Filtering and Boolean Predicates</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10-boolean-predicates/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Filtering and Boolean Predicates</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../10-boolean-predicates/boolean.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Booleans</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../11-group/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L11: Grouping</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../12-pivot-join/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L12: Pivots and Joins</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../13-functions/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L13: Functions</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../13-functions/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../13-functions/strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">String Methods</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../13-functions/apply.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Apply</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../14-conditionals/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L14: Conditionals</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../15-iteration/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L15: Iteration</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../15-iteration/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">For Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../15-iteration/while.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">While Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../15-iteration/practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practice</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../16-measurements/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L16: Iterations II; Measurements</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../16-measurements/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reliability and Validity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../16-measurements/iteration-ii.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">More Iteration Practice</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../17-dictionaries/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L17: Dictionaries</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../17-dictionaries/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dictionaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../17-dictionaries/file-formats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">File Formats</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../18-html/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">L18: HTML and Web Scraping</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../18-html/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">HTML and BeautifulSoup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../18-html/genius.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Genius API Key</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../19-css/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L19: Intro to Computational Social Science</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../20-coding/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L20: Qualitative Coding</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../20-coding/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Qualitative Coding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../20-coding/cohens-kappa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cohen’s Kappa</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../21-genai/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">L21: Generative AI</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../21-genai/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GenAI and LLMs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../21-genai/gemini.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gemini Tutorial</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../five-things.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5 Things to Know</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data 6 Python Reference</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#tutorial-parsing-html-with-beautifulsoup" id="toc-tutorial-parsing-html-with-beautifulsoup" class="nav-link active" data-scroll-target="#tutorial-parsing-html-with-beautifulsoup">Tutorial: Parsing HTML with BeautifulSoup</a></li>
  <li><a href="#html-anatomy" id="toc-html-anatomy" class="nav-link" data-scroll-target="#html-anatomy">HTML Anatomy</a>
  <ul class="collapse">
  <li><a href="#developer-tools-in-your-browser" id="toc-developer-tools-in-your-browser" class="nav-link" data-scroll-target="#developer-tools-in-your-browser">Developer Tools in your browser</a></li>
  <li><a href="#the-structure-of-kittens.html" id="toc-the-structure-of-kittens.html" class="nav-link" data-scroll-target="#the-structure-of-kittens.html">The structure of <code>kittens.html</code></a></li>
  <li><a href="#summary-html-elements" id="toc-summary-html-elements" class="nav-link" data-scroll-target="#summary-html-elements">Summary: HTML Elements</a></li>
  <li><a href="#task-discussion" id="toc-task-discussion" class="nav-link" data-scroll-target="#task-discussion"><strong>TASK</strong>: Discussion</a></li>
  </ul></li>
  <li><a href="#scraping-and-web-requests" id="toc-scraping-and-web-requests" class="nav-link" data-scroll-target="#scraping-and-web-requests">Scraping and Web requests</a>
  <ul class="collapse">
  <li><a href="#why-is-web-scraping-hard" id="toc-why-is-web-scraping-hard" class="nav-link" data-scroll-target="#why-is-web-scraping-hard">Why is web scraping hard?</a></li>
  </ul></li>
  <li><a href="#the-beautiful-soup-library" id="toc-the-beautiful-soup-library" class="nav-link" data-scroll-target="#the-beautiful-soup-library">The Beautiful Soup library</a>
  <ul class="collapse">
  <li><a href="#finding-a-tag-with-find" id="toc-finding-a-tag-with-find" class="nav-link" data-scroll-target="#finding-a-tag-with-find">Finding a tag with <code>find</code></a></li>
  <li><a href="#finding-multiple-tags-with-find_all" id="toc-finding-multiple-tags-with-find_all" class="nav-link" data-scroll-target="#finding-multiple-tags-with-find_all">Finding multiple tags with <code>find_all</code></a></li>
  <li><a href="#finding-tags-with-particular-attributes" id="toc-finding-tags-with-particular-attributes" class="nav-link" data-scroll-target="#finding-tags-with-particular-attributes">Finding tags with particular attributes</a></li>
  </ul></li>
  <li><a href="#more-on-beautifulsoup" id="toc-more-on-beautifulsoup" class="nav-link" data-scroll-target="#more-on-beautifulsoup">More on BeautifulSoup</a>
  <ul class="collapse">
  <li><a href="#use-findfind_all-on-tags-too" id="toc-use-findfind_all-on-tags-too" class="nav-link" data-scroll-target="#use-findfind_all-on-tags-too">Use <code>find</code>/<code>find_all</code> on tags, too</a></li>
  <li><a href="#find-sibling-tags-find_next_sibling" id="toc-find-sibling-tags-find_next_sibling" class="nav-link" data-scroll-target="#find-sibling-tags-find_next_sibling">Find sibling tags: <code>find_next_sibling()</code></a></li>
  <li><a href="#when-things-go-wrong-with-beautiful-soup" id="toc-when-things-go-wrong-with-beautiful-soup" class="nav-link" data-scroll-target="#when-things-go-wrong-with-beautiful-soup">When things go wrong with Beautiful Soup</a></li>
  <li><a href="#no-tags-exist-with-find_all" id="toc-no-tags-exist-with-find_all" class="nav-link" data-scroll-target="#no-tags-exist-with-find_all">No tags exist with <code>find_all</code></a></li>
  </ul></li>
  <li><a href="#out-of-scope-material-list-comprehension" id="toc-out-of-scope-material-list-comprehension" class="nav-link" data-scroll-target="#out-of-scope-material-list-comprehension">[Out-of-scope material] List comprehension</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further reading</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">HTML and BeautifulSoup</h1>
<p class="subtitle lead">Scraping the web by turning HTML into soup</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="tutorial-parsing-html-with-beautifulsoup" class="level2">
<h2 class="anchored" data-anchor-id="tutorial-parsing-html-with-beautifulsoup">Tutorial: Parsing HTML with BeautifulSoup</h2>
<p>BeautifulSoup is a Python library for pulling data out of HTML and XML files.</p>
<p>This tutorial walks through scraping HTML from a simple <a href="http://static.decontextualize.com/kittens.html">kittens webpage</a>. This tutorial is based on lessons by <a href="https://melaniewalsh.github.io/Intro-Cultural-Analytics">Melanie Walsh’s _Intro to Cultural Analytics</a>, <a href="http://www.decontextualize.com/">Alison Parrish</a> and <a href="https://github.com/emory-courses/data-science/blob/master/course/data_aggregation/data_aggregation.ipynb">Jinho Choi</a></p>
<p>The official <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">BeautifulSoup Documentation</a> is also a great place to continue searching for that exact feature you want.</p>
</section>
<section id="html-anatomy" class="level2">
<h2 class="anchored" data-anchor-id="html-anatomy">HTML Anatomy</h2>
<p>Thanks to Alison Parrish, we have a very simple example of HTML to begin with. It is about kittens. <a href="http://static.decontextualize.com/kittens.html">Here’s the rendered version</a>, and <a href="https://raw.githubusercontent.com/ledeprogram/courses/master/databases/data/kittens.html">here’s the HTML source code</a>.</p>
<section id="developer-tools-in-your-browser" class="level3">
<h3 class="anchored" data-anchor-id="developer-tools-in-your-browser">Developer Tools in your browser</h3>
<p>First we’re going to use Developer Tools in Chrome to take a look at how <code>kittens.html</code> is organized.</p>
<p>Click on the “rendered version” link above, then launch your browser’s <strong>Developer Tools</strong>:</p>
<ul>
<li>Chrome, Firefox: Right-click (or ctrl-click) anywhere on the page, then click “Inspect”</li>
<li>Safari: Right-click (or ctrl-click) anywhere on the page, then click “Inspect Element.”
<ul>
<li>You may not see this option by default. On the menu bar, go to Safari –&gt; Settings –&gt; Advanced. Check the box “Show features for web developers.” Upon selecting this feature, you should see the “Develop” tab appear in the menu bar. Return to the page and try again.</li>
</ul></li>
</ul>
<p>Your screen should look (something) like this:</p>
<div style="text-align: center">
<div id="fig-inflation" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" alt="">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-inflation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="http://static.decontextualize.com/snaps/kittens-dev-tools.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" alt="">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-inflation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Kittens Dev Tools.
</figcaption>
</figure>
</div>
</div>
<p>In the upper panel, you see the web page you’re inspecting. In the lower panel, you see a version of the HTML source code, with little arrows next to some of the lines. (The little arrows allow you to collapse parts of the HTML source that are hierarchically related.) As you move your mouse over the elements in the top panel, different parts of the source code will be highlighted. Chrome is showing you which parts of the source code are causing which parts of the page to show up. Pretty spiffy!</p>
<p>This relationship also works in reverse: you can move your mouse over some part of the source code in the lower panel, which will highlight in the top panel what that source code corresponds to on the page. We’ll be using this later to visually identify the parts of the page that are interesting to us, so we can write code that extracts the contents of those parts automatically.</p>
</section>
<section id="the-structure-of-kittens.html" class="level3">
<h3 class="anchored" data-anchor-id="the-structure-of-kittens.html">The structure of <code>kittens.html</code></h3>
<p>Here’s what the source code of kittens.html looks like:</p>
<pre><code>&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Kittens!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Kittens and the TV Shows They Love&lt;/h1&gt;
    &lt;div class="kitten"&gt;
      &lt;h2&gt;Fluffy&lt;/h2&gt;
      &lt;div&gt;&lt;img src="http://placekitten.com/100/100"&gt;&lt;/div&gt;
      &lt;ul class="tvshows"&gt;
        &lt;li&gt;&lt;a href="http://www.imdb.com/title/tt0106145/"&gt;Deep Space Nine&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="http://www.imdb.com/title/tt0088576/"&gt;Mr. Belvedere&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
      Last check-up: &lt;span class="lastcheckup"&gt;2014-01-17&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="kitten"&gt;
      &lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;
      &lt;div&gt;&lt;img src="http://placekitten.com/150/100"&gt;&lt;/div&gt;
      &lt;ul class="tvshows"&gt;
        &lt;li&gt;&lt;a href="http://www.imdb.com/title/tt0106179/"&gt;The X-Files&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="http://www.imdb.com/title/tt0098800/"&gt;Fresh Prince&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
      Last check-up: &lt;span class="lastcheckup"&gt;2013-11-02&lt;/span&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>This is pretty well organized HTML, but if you don’t know how to read HTML, it will still look like a big jumble. Here’s how I would characterize the structure of this HTML, reading in my own idea of what the meaning of the elements are.</p>
<ul>
<li>We have two “kittens,” both of which are contained in <code>&lt;div&gt;</code> tags with class <code>kitten</code>.</li>
<li>Each “kitten” <code>&lt;div&gt;</code> has an <code>&lt;h2&gt;</code> tag with that kitten’s name.</li>
<li>There’s an image for each kitten, specified with an <code>&lt;img&gt;</code> tag.</li>
<li>Each kitten has a list (a <code>&lt;ul&gt;</code> with class <code>tvshows</code>) of television shows, contained within <code>&lt;li&gt;</code> tags.</li>
<li>Those list items themselves have links (<code>&lt;a&gt;</code> tags) with an <code>href</code> attribute that contains a link to an IMDB entry for that show.</li>
</ul>
</section>
<section id="summary-html-elements" class="level3">
<h3 class="anchored" data-anchor-id="summary-html-elements">Summary: HTML Elements</h3>
<p>In summary, HTML is composed of <strong>HTML elements</strong>, which have:</p>
<ul>
<li><strong>Tags</strong>, provided as the first string within angled brackets.</li>
<li>(optional) <strong>attributes</strong>, provided as <code>attr=value</code> key-value pairs within the angled brackets.</li>
<li>(optional) a string and/or other elements under the tag. These will be between the matching angled brackets, e.g., <code>&lt;li&gt;</code> and <code>&lt;/li&gt;</code>.</li>
</ul>
<p>You will hear <strong>tag</strong> and <strong>element</strong> used interchangeably. This is because every <strong>HTML element must have a tag.</strong></p>
</section>
<section id="task-discussion" class="level3">
<h3 class="anchored" data-anchor-id="task-discussion"><strong>TASK</strong>: Discussion</h3>
<ol type="1">
<li><p>What’s the parent tag of <code>&lt;a href="http://www.imdb.com/title/tt0088576/"&gt;Mr. Belvedere&lt;/a&gt;</code>?</p></li>
<li><p>Both <code>&lt;div class="kitten"&gt;</code> tags share a parent tag—what is it? What attributes are present on both <code>&lt;img&gt;</code> tags?</p></li>
</ol>
</section>
</section>
<section id="scraping-and-web-requests" class="level2">
<h2 class="anchored" data-anchor-id="scraping-and-web-requests">Scraping and Web requests</h2>
<p>We’ve examined <code>kittens.html</code> a bit now. What we’d like to do is write some code that is going to extract information from the HTML, like “what is the last checkup date for each of these kittens?” or “what are Monsieur Whiskeur’s favorite TV shows?” To do so, we need to:</p>
<ol type="1">
<li><strong>Scrape</strong> the HTML from the internet</li>
<li><strong>Parse</strong> the HTML by creating a representation of it in our program that we can manipulate with Python</li>
</ol>
<p>Let’s do the first task: <strong>scraping</strong>. It’s left to us to actually <em>get</em> the HTML from somewhere. In most cases, we’ll want to download the HTML directly from the actual web. For that, we’ll use the <code>get</code> method from the Python library <code>requests</code> (<a href="https://2.python-requests.org/en/master/">link</a>):</p>
<div id="f76c1cd1" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first let's import the requests library</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>If it worked, you won’t get an error message.</p>
<p>Now let’s use the “get” method to make an http request (the eponymous “requests”) to get the contents of kittens.html.</p>
<div id="51497214" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>resp <span class="op">=</span> requests.get(<span class="st">"http://static.decontextualize.com/kittens.html"</span>) </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>resp</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>&lt;Response [200]&gt;</code></pre>
</div>
</div>
<p>Note that “resp” is a <strong>Python object</strong>, and not plain text. The HTTP Response Status Code 200 means “OK”—as in, the webpage was able to give us the data we wanted.</p>
<p><em>Side note</em>: The “get” method makes things easy by guessing at the document’s character encoding. We’re not really going to talk about character encoding until next class, but since we can, let’s check this page’s encoding real quick.</p>
<div id="12878cd4" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>resp.encoding</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>'UTF-8'</code></pre>
</div>
</div>
<p>Okay, back on task. Now let’s create a <strong>string</strong> with the contents of the web page in text format we use the “text” method for this.</p>
<div id="b649f9bc" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>html_str <span class="op">=</span> resp.text</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>html_str</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>'&lt;!doctype html&gt;\n&lt;html&gt;\n\t&lt;head&gt;\n\t\t&lt;title&gt;Kittens!&lt;/title&gt;\n\t\t&lt;style type="text/css"&gt;\n\t\t\tspan.lastcheckup { font-family: "Courier", fixed; font-size: 11px; }\n\t\t&lt;/style&gt;\n\t&lt;/head&gt;\n\t&lt;body&gt;\n\t\t&lt;h1&gt;Kittens and the TV Shows They Love&lt;/h1&gt;\n\t\t&lt;div class="kitten"&gt;\n\t\t\t&lt;h2&gt;Fluffy&lt;/h2&gt;\n\t\t\t&lt;div&gt;&lt;img src="kitten1.jpg"&gt;&lt;/div&gt;\n\t\t\t&lt;ul class="tvshows"&gt;\n\t\t\t\t&lt;li&gt;\n\t\t\t\t\t&lt;a href="http://www.imdb.com/title/tt0106145/"&gt;Deep Space Nine&lt;/a&gt;\n\t\t\t\t&lt;/li&gt;\n\t\t\t\t&lt;li&gt;\n\t\t\t\t\t&lt;a href="http://www.imdb.com/title/tt0088576/"&gt;Mr. Belvedere&lt;/a&gt;\n\t\t\t\t&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t\t\tLast check-up: &lt;span class="lastcheckup"&gt;2014-01-17&lt;/span&gt;\n\t\t&lt;/div&gt;\n\t\t&lt;div class="kitten"&gt;\n\t\t\t&lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;\n\t\t\t&lt;div&gt;&lt;img src="kitten2.jpg"&gt;&lt;/div&gt;\n\t\t\t&lt;ul class="tvshows"&gt;\n\t\t\t\t&lt;li&gt;\n\t\t\t\t\t&lt;a href="http://www.imdb.com/title/tt0106179/"&gt;The X-Files&lt;/a&gt;\n\t\t\t\t&lt;/li&gt;\n\t\t\t\t&lt;li&gt;\n\t\t\t\t\t&lt;a href="http://www.imdb.com/title/tt0098800/"&gt;Fresh Prince&lt;/a&gt;\n\t\t\t\t&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t\t\tLast check-up: &lt;span class="lastcheckup"&gt;2013-11-02&lt;/span&gt;\n\t\t&lt;/div&gt;\n\t&lt;/body&gt;\n&lt;/html&gt;\n\n'</code></pre>
</div>
</div>
<p>That looks like a mess but it’s apparent that we’ve obtained the data as desired.</p>
<p>If we wanted to “pretty print”, note that the <code>html_str</code> has a lot of whitespace: * <code>\t</code>: Tab * <code>\n</code>: Newline</p>
<p>Calling <code>print</code> will render this whitespace in our display.</p>
<div id="4ec1d25b" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pretty print</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(html_str)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;!doctype html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Kittens!&lt;/title&gt;
        &lt;style type="text/css"&gt;
            span.lastcheckup { font-family: "Courier", fixed; font-size: 11px; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Kittens and the TV Shows They Love&lt;/h1&gt;
        &lt;div class="kitten"&gt;
            &lt;h2&gt;Fluffy&lt;/h2&gt;
            &lt;div&gt;&lt;img src="kitten1.jpg"&gt;&lt;/div&gt;
            &lt;ul class="tvshows"&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0106145/"&gt;Deep Space Nine&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0088576/"&gt;Mr. Belvedere&lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2014-01-17&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="kitten"&gt;
            &lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;
            &lt;div&gt;&lt;img src="kitten2.jpg"&gt;&lt;/div&gt;
            &lt;ul class="tvshows"&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0106179/"&gt;The X-Files&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0098800/"&gt;Fresh Prince&lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2013-11-02&lt;/span&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;

</code></pre>
</div>
</div>
<section id="why-is-web-scraping-hard" class="level3">
<h3 class="anchored" data-anchor-id="why-is-web-scraping-hard">Why is web scraping hard?</h3>
<p>It turns out that web scraping is heavily restricted on today’s internet. What do you think are reasons why websites would <strong>not</strong> want programs periodically scraping their data?</p>
<p>In this class, we will usually handle the web requests and scraping for you.</p>
</section>
</section>
<section id="the-beautiful-soup-library" class="level2">
<h2 class="anchored" data-anchor-id="the-beautiful-soup-library">The Beautiful Soup library</h2>
<p>Now, onto the next step:</p>
<blockquote class="blockquote">
<ol start="2" type="1">
<li>Parse the HTML by creating a representation of it in our program that we can manipulate with Python.</li>
</ol>
</blockquote>
<p>What representation should we choose? As mentioned earlier, HTML is hard to parse by hand. (Don’t even try it. In particular, <a href="http://stackoverflow.com/a/1732454">don’t parse HTML with regular expressions</a>.)</p>
<p><strong><a href="http://www.crummy.com/software/BeautifulSoup/">Beautiful Soup</a></strong> is a Python library that parses (even poorly formatted) HTML and allows us to extract and manipulate its contents. More specifically, it gives us some Python objects that we can call methods on to poke at the data contained therein. So instead of working with strings and bytes, we can work with Python objects, methods and data structures.</p>
<p>Note that BeautifulSoup can parse any HTML that is provided as a string. We’ve already gotten an HTML string from our previous web request, so now we need to create a Beautiful Soup object from that data.</p>
<div id="b16b2dfc" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># just run this cell</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>document <span class="op">=</span> BeautifulSoup(html_str, <span class="st">"html.parser"</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(document)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>bs4.BeautifulSoup</code></pre>
</div>
</div>
<p>The <code>BeautifulSoup</code> function creates a new Beautiful Soup object. It takes two parameters: the string containing the HTML data, and a string that designates which underlying parser to use to build the parsed version of the document. (Leave this as <code>"html.parser"</code>.) I’ve assigned this object to the variable <code>document</code>.</p>
<p>The <code>document</code> object supports a number of interesting methods that allow us to dig into the contents of the HTML. Primarily what we’ll be working with are:</p>
<ul>
<li><code>Tag</code> objects, and</li>
<li><code>ResultSet</code> objects, which are essentially just lists of <code>Tag</code> objects.</li>
</ul>
<section id="finding-a-tag-with-find" class="level3">
<h3 class="anchored" data-anchor-id="finding-a-tag-with-find">Finding a tag with <code>find</code></h3>
<p>As we’ve previously discussed, HTML documents are composed of tags. To represent this, Beautiful Soup has a type of value that represents tags. We can use the <code>.find()</code> method of the <code>BeautifulSoup</code> object to find a tag that matches a particular tag name. For example:</p>
<div id="95cc2f8c" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>h1_tag <span class="op">=</span> document.find(<span class="st">'h1'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(h1_tag)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>bs4.element.Tag</code></pre>
</div>
</div>
<p>A <code>Tag</code> object has several interesting attributes and methods. The <code>string</code> attribute of a <code>Tag</code> object, for example, returns a string representing that tag’s contents:</p>
<div id="27bfdf74" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>h1_tag.string</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>'Kittens and the TV Shows They Love'</code></pre>
</div>
</div>
<p>You can access the attributes of a tag by treating the tag object as though it were a <strong>dictionary</strong>. To get the <strong>value</strong> associated with a particular <strong>attribute</strong>. Use the square-bracket syntax, providing the attribute name as key/string.</p>
<section id="get-the-src-attribute-of-the-first-img-tag-in-the-document" class="level4">
<h4 class="anchored" data-anchor-id="get-the-src-attribute-of-the-first-img-tag-in-the-document">Get the <code>src</code> attribute of the first <code>&lt;img&gt;</code> tag in the document</h4>
<div id="ca697b29" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>img_tag <span class="op">=</span> document.find(<span class="st">'img'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>img_tag[<span class="st">'src'</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>'kitten1.jpg'</code></pre>
</div>
</div>
<p><strong>Note</strong>: You might have noticed that there is more than one <code>&lt;img&gt;</code> tag in <code>kittens.html</code>! If more than one tag matches the name you pass to <code>.find()</code>, it returns only the first matching tag. (A better name for <code>.find()</code> might be <code>.find_first()</code>, but we digress.)</p>
</section>
<section id="your-turn-find-the-last-check-up-date-of-the-first-kitten." class="level4">
<h4 class="anchored" data-anchor-id="your-turn-find-the-last-check-up-date-of-the-first-kitten.">Your turn: Find the last check-up date of the first kitten.</h4>
<div class="callout callout-style-default callout-note callout-titled" title="Solution">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="582e580b" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>tag <span class="op">=</span> document.find(<span class="st">'span'</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>tag.string</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>'2014-01-17'</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="finding-multiple-tags-with-find_all" class="level3">
<h3 class="anchored" data-anchor-id="finding-multiple-tags-with-find_all">Finding multiple tags with <code>find_all</code></h3>
<p>It’s very often the case that we want to find not just one tag that matches particular criteria, but ALL tags matching those criteria. For that, we use the <code>.find_all()</code> method of the <code>BeautifulSoup</code> object. For example, to find all <code>h2</code> tags in the document:</p>
<div id="7fac98d0" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>h2_tags <span class="op">=</span> document.find_all(<span class="st">'h2'</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(h2_tags)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>bs4.element.ResultSet</code></pre>
</div>
</div>
<p>But what’s in the Result Set?</p>
<p>In order to find out, we’re going to need to use a loop. Specifically, a <strong>for</strong> loop.</p>
<div id="2fa90686" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> tag <span class="kw">in</span> h2_tags:</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(tag.string) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Fluffy
Monsieur Whiskeurs</code></pre>
</div>
</div>
<p>This conveniently gives you a variable, <code>tag</code>, that updates with the appropriate value each time you iterate.</p>
</section>
<section id="finding-tags-with-particular-attributes" class="level3">
<h3 class="anchored" data-anchor-id="finding-tags-with-particular-attributes">Finding tags with particular attributes</h3>
<p>In any case, both the <code>.find()</code> and <code>.find_all()</code> methods can search not just for tags with particular names, but also for <strong>tags that have particular attributes</strong>.</p>
<p>For that, we use the <strong>optional</strong> <code>attrs</code> keyword argument. <code>attrs</code> is a dictionary that associates attribute names as keys and the desired attribute value as values.</p>
<pre><code>document.find_all(tag_name, attrs=None)</code></pre>
<p>To find all <code>span</code> tags with a <code>class</code> attribute of <code>lastcheckup</code>:</p>
<div id="321671a1" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>checkup_tags <span class="op">=</span> document.find_all(<span class="st">'span'</span>, attrs<span class="op">=</span>{<span class="st">'class'</span>: <span class="st">'lastcheckup'</span>})</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> tag <span class="kw">in</span> checkup_tags:</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(tag.string)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>2014-01-17
2013-11-02</code></pre>
</div>
</div>
</section>
</section>
<section id="more-on-beautifulsoup" class="level2">
<h2 class="anchored" data-anchor-id="more-on-beautifulsoup">More on BeautifulSoup</h2>
<p><strong>Before we move on:</strong></p>
<p>Beautiful Soup’s <code>.find()</code> and <code>.find_all()</code> methods are actually more powerful than we’re letting on here. <a href="http://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all">Check out the details in the official Beautiful Soup documentation.</a></p>
<section id="use-findfind_all-on-tags-too" class="level3">
<h3 class="anchored" data-anchor-id="use-findfind_all-on-tags-too">Use <code>find</code>/<code>find_all</code> on tags, too</h3>
<p>Let’s say that we wanted to print out a list of the name of each kitten, along with a list of the names of that kitten’s favorite TV shows. In other words, we want to print out something that looks like this:</p>
<pre><code>Flufzfy: Deep Space Nine, Mr. Belvedere
Monsieur Whiskeurs: The X-Files, Fresh Prince</code></pre>
<p>In order to do this, we need to find <em>not just</em> tags with particular names, but tags with <strong>particular hierarchical relationships</strong> with other tags:</p>
<ol type="1">
<li>Identify all of the kittens, then</li>
<li>Find the shows that belong to that kitten.</li>
</ol>
<p>This kind of search is made easy by the fact that you can use <code>.find()</code> and <code>.find_all()</code> methods not just on the entire document, but on <strong>individual tags</strong>*. When you use these methods on tags, they search for matching tags that are specifically <strong>children of</strong> the tag that you call them on.</p>
<hr>
<p>In our kittens example, we can see that information about individual kittens is grouped together under <code>&lt;div&gt;</code> tags with a <code>class</code> attribute of <code>kitten</code>. So, to find a list of all <code>&lt;div&gt;</code> tags with <code>class</code> set to <code>kitten</code>, we might do this:</p>
<div id="bfc02007" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>kitten_tags <span class="op">=</span> document.find_all(<span class="st">"div"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: <span class="st">"kitten"</span>})</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Now, we’ll loop over that list of tags and find, inside each of them, the <code>&lt;h2&gt;</code> tag that is its child:</p>
<div id="52f60cf9" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># just run this cell</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> kitten_tag <span class="kw">in</span> kitten_tags:</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    h2_tag <span class="op">=</span> kitten_tag.find(<span class="st">'h2'</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(h2_tag.string)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Fluffy
Monsieur Whiskeurs</code></pre>
</div>
</div>
<section id="string-method-demo-practice" class="level4">
<h4 class="anchored" data-anchor-id="string-method-demo-practice">String method demo practice</h4>
<p>Now, we’ll go one extra step. Looping over all of the kitten tags, we’ll find not just the <code>&lt;h2&gt;</code> tag with the kitten’s name, but all <code>&lt;a&gt;</code> tags (which contain the names of the TV shows that we were looking for).</p>
<p>_Note*: The list method <code>lst.append(elt)</code> returns nothing and directly modifies the original list <code>lst</code>, appending <code>elt</code> to the end. (This behavior is unlike <code>np.append</code>, which returns a new array.)</p>
<div id="df2676dd" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># trace through this code carefully!</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> kitten_tag <span class="kw">in</span> kitten_tags:</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    h2_tag <span class="op">=</span> kitten_tag.find(<span class="st">'h2'</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    a_tag_strings <span class="op">=</span> []</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> tag <span class="kw">in</span> kitten_tag.find_all(<span class="st">'a'</span>):</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>        a_tag_strings.append(tag.string)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(h2_tag.string <span class="op">+</span> <span class="st">":"</span>, <span class="st">", "</span>.join(a_tag_strings))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Fluffy: Deep Space Nine, Mr. Belvedere
Monsieur Whiskeurs: The X-Files, Fresh Prince</code></pre>
</div>
</div>
</section>
<section id="your-turn-find-last-check-up-for-all-kittens" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-find-last-check-up-for-all-kittens">Your turn: Find last check-up for all kittens</h4>
<p>Using the code above as a template, write code that prints out a list of kitten names along with the last check-up date for that kitten.</p>
<p><em>Hint</em>: Look up above for the HTML that deals with check-up dates.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Solution">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="e5332b36" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> kitten_tag <span class="kw">in</span> kitten_tags:</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    h2_tag <span class="op">=</span> kitten_tag.find(<span class="st">'h2'</span>) <span class="co"># keep this to find the kittens</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    checkup_tag <span class="op">=</span> kitten_tag.find(<span class="st">'span'</span>, attrs<span class="op">=</span>{<span class="st">'class'</span>: <span class="st">'lastcheckup'</span>})</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(h2_tag.string <span class="op">+</span> <span class="st">", "</span> <span class="op">+</span> checkup_tag.string)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Fluffy, 2014-01-17
Monsieur Whiskeurs, 2013-11-02</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="your-turn-find-links-to-all-kittens-favorite-shows" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-find-links-to-all-kittens-favorite-shows">Your turn: Find links to all kittens’ favorite shows</h4>
<p>Using the code above, write code that prints a list of kitten names with links to that kitten’s favorite shows. I.e., you should end up with something of the format:</p>
<p><code>Name: [kitten name]  URLS: www.asdasdsa.com, www.sdkalskdjsa.com</code></p>
<p><em>Hint</em>: Look up above for how you access the attribute of a tag.</p>
<div class="callout callout-style-default callout-note callout-titled" title="Solution">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="80b3322b" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> kitten_tag <span class="kw">in</span> kitten_tags:</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    h2_tag <span class="op">=</span> kitten_tag.find(<span class="st">'h2'</span>) <span class="co"># keep this to find the kittens</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    url_strings <span class="op">=</span> []</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> url <span class="kw">in</span> kitten_tag.find_all(<span class="st">'a'</span>):</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>        url_strings.append(url[<span class="st">'href'</span>])</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    urls_joined <span class="op">=</span> <span class="st">", "</span>.join(url_strings)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Name: "</span> <span class="op">+</span> h2_tag.string)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"URLs: "</span> <span class="op">+</span> urls_joined)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Name: Fluffy
URLs: http://www.imdb.com/title/tt0106145/, http://www.imdb.com/title/tt0088576/
Name: Monsieur Whiskeurs
URLs: http://www.imdb.com/title/tt0106179/, http://www.imdb.com/title/tt0098800/</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="find-sibling-tags-find_next_sibling" class="level3">
<h3 class="anchored" data-anchor-id="find-sibling-tags-find_next_sibling">Find sibling tags: <code>find_next_sibling()</code></h3>
<p>Often, the tags we’re looking for don’t have a distinguishing characteristic, like a <code>class</code> attribute, that allows us to find them using <code>.find()</code> and <code>.find_all()</code>, and the tags also aren’t in a parent-child relationship. This can be tricky! Take the following HTML snippet, for example:</p>
<div id="df3eda08" class="cell" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>cheese_html <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;h2&gt;Camembert&lt;/h2&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;p&gt;A soft cheese made in the Camembert region of France.&lt;/p&gt;</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;h2&gt;Cheddar&lt;/h2&gt;</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;p&gt;A yellow cheese made in the Cheddar region of... France, probably, idk whatevs.&lt;/p&gt;</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>cheese_document <span class="op">=</span> BeautifulSoup(cheese_html, <span class="st">"html.parser"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>If our task was to create a list of the name of the cheese followed by the description that follows in the <code>&lt;p&gt;</code> tag directly afterward, we’d be out of luck. Fortunately, Beautiful Soup has a <code>.find_next_sibling()</code> method, which allows us to search for the next tag that is a <em>sibling</em> of the tag you’re calling it on (i.e., the two tags share a parent), that also matches particular criteria. So, for example, to accomplish the task outlined above:</p>
<div id="7380af31" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>cheese_dict <span class="op">=</span> {}</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> h2_tag <span class="kw">in</span> cheese_document.find_all(<span class="st">'h2'</span>):</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    cheese_name <span class="op">=</span> h2_tag.string</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    cheese_desc_tag <span class="op">=</span> h2_tag.find_next_sibling(<span class="st">'p'</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    cheese_dict[cheese_name] <span class="op">=</span> cheese_desc_tag.string</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>cheese_dict</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>{'Camembert': 'A soft cheese made in the Camembert region of France.',
 'Cheddar': 'A yellow cheese made in the Cheddar region of... France, probably, idk whatevs.'}</code></pre>
</div>
</div>
</section>
<section id="when-things-go-wrong-with-beautiful-soup" class="level3">
<h3 class="anchored" data-anchor-id="when-things-go-wrong-with-beautiful-soup">When things go wrong with Beautiful Soup</h3>
<p>You now know most of what you need to know to scrape web pages effectively. Good job!</p>
<p>But before you’re done, we should talk about what to do when things go wrong.</p>
<p>A number of things might go wrong with Beautiful Soup. Here are just a few.</p>
<section id="tag-does-not-exist-with-find" class="level4">
<h4 class="anchored" data-anchor-id="tag-does-not-exist-with-find">Tag does not exist with <code>find</code></h4>
<p>You might, for example, search for a tag that doesn’t exist in the document:</p>
<div id="22531083" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>footer_tag <span class="op">=</span> document.find(<span class="st">"footer"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Beautiful Soup doesn’t return an error if it can’t find the tag you want. Instead, it returns <code>None</code>:</p>
<div id="823af0de" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(footer_tag)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>NoneType</code></pre>
</div>
</div>
<p>If you try to call a method on the object that Beautiful Soup returned anyway, you might end up with an error like this:</p>
<div id="673d4286" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>footer_tag.find(<span class="st">"p"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[23], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">footer_tag</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">find</span>(<span style="color:rgb(175,0,0)">"</span><span style="color:rgb(175,0,0)">p</span><span style="color:rgb(175,0,0)">"</span>)

<span class="ansi-red-fg">AttributeError</span>: 'NoneType' object has no attribute 'find'</pre>
</div>
</div>
</div>
<p>You might also inadvertently try to get an attribute of a tag that wasn’t actually found. You’ll get a similar error in that case:</p>
<div id="3eabfb45" class="cell" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>footer_tag[<span class="st">'title'</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[24], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">footer_tag</span><span class="ansi-yellow-bg">[</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">'</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">title</span><span style="color:rgb(175,0,0)" class="ansi-yellow-bg">'</span><span class="ansi-yellow-bg">]</span>

<span class="ansi-red-fg">TypeError</span>: 'NoneType' object is not subscriptable</pre>
</div>
</div>
</div>
<p>Whenever you see something like <code>TypeError: 'NoneType' object is not subscriptable</code>, it’s a good idea to check to see whether your method calls are indeed finding the thing you were looking for.</p>
</section>
</section>
<section id="no-tags-exist-with-find_all" class="level3">
<h3 class="anchored" data-anchor-id="no-tags-exist-with-find_all">No tags exist with <code>find_all</code></h3>
<p>The <code>.find_all()</code> method will return an empty list if it doesn’t find any of the tags you wanted:</p>
<div id="5d613db7" class="cell" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>footer_tags <span class="op">=</span> document.find_all(<span class="st">"footer"</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(footer_tags)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[]</code></pre>
</div>
</div>
<p>If you attempt to access one of the elements of this regardless…</p>
<div id="07e13500" class="cell" data-execution_count="26">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(footer_tags[<span class="dv">0</span>].string)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[26], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span style="color:rgb(0,135,0)">print</span>(<span class="ansi-yellow-bg">footer_tags</span><span class="ansi-yellow-bg">[</span><span style="color:rgb(98,98,98)" class="ansi-yellow-bg">0</span><span class="ansi-yellow-bg">]</span><span style="color:rgb(98,98,98)">.</span>string)

<span class="ansi-red-fg">IndexError</span>: list index out of range</pre>
</div>
</div>
</div>
<p>…you’ll get an <code>IndexError</code>.</p>
</section>
</section>
<section id="out-of-scope-material-list-comprehension" class="level2">
<h2 class="anchored" data-anchor-id="out-of-scope-material-list-comprehension">[Out-of-scope material] List comprehension</h2>
<p>Consider the following code:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>checkup_tags <span class="op">=</span> document.find_all(<span class="st">'span'</span>, attrs<span class="op">=</span>{<span class="st">'class'</span>: <span class="st">'lastcheckup'</span>})</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>[tag.string <span class="cf">for</span> tag <span class="kw">in</span> checkup_tags]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>The second line in the code cell above is a helpful shorthand: it creates a list with each of the <code>tag.string</code>s in <code>checkup_tags</code>.</p>
<p>In more official terms, it’s called a <em>list comprehension</em>, and it helps with a very common task in both data analysis and computer programming: when you want to apply an operation to every item in a list (e.g., scaling the numbers in a list by a fixed factor), or create a copy of a list with only those items that match a particular criterion (e.g., eliminating values that fall below a certain threshold).</p>
<p>A list comprehension has a few parts:</p>
<ul>
<li>a source list, or the list whose values will be transformed or filtered;</li>
<li>a predicate expression, to be evaluated for every item in the list;</li>
<li>(optionally) a membership expression that determines whether or not an item in the source list will be included in the result of evaluating the list comprehension, based on whether the expression evaluates to True or False; and</li>
<li>a temporary variable name by which each value from the source list will be known in the predicate expression and membership expression. These parts are arranged like so:</li>
</ul>
<blockquote class="blockquote">
<p><code>[</code> <em>predicate expression</em> <code>for</code> <em>temporary variable name</em> <code>in</code> <em>source list</em> <code>if</code> <em>membership expression</em> <code>]</code></p>
</blockquote>
<p>The words for, in, and if are a part of the syntax of the expression. They don’t mean anything in particular (and in fact, they do completely different things in other parts of the Python language). You just have to spell them right and put them in the right place in order for the list comprehension to work.</p>
<p>You are welcome to use list comprehension in this course, but we won’t test it.</p>
</section>
<section id="further-reading" class="level1">
<h1>Further reading</h1>
<ul>
<li><a href="https://automatetheboringstuff.com/chapter11/">Chapter 11</a> from Al Sweigart’s <a href="https://automatetheboringstuff.com/">Automate the Boring Stuff with Python</a> is another good take on this material (and discusses a wider range of techniques).</li>
<li><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">The official Beautiful Soup documentation</a> provides a systematic walkthrough of the library’s functionality. If you find yourself thinking, “it really should be easy to do the thing that I want to do, why isn’t it easier?” then check the documentation! Leonard’s probably already thought of a way to make it easier and implemented a feature in the code to help you out.</li>
<li>Beautiful Soup is the best scraping library out there for quick jobs, but if you have a larger site that you need to scrape, you might look into <a href="http://scrapy.org/">Scrapy</a>, which bundles a good parser with a framework for writing web “spiders” (i.e., programs that parse web pages and follow the links found there, in order to make a catalog of an entire web site, not just a single web page).</li>
</ul>


</section>

</main> <!-- /main -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
    // 1. Select the specific parent div within the callout header that has the 
    //    collapse attributes (data-bs-toggle).
    var calloutToggles = document.querySelectorAll(
        '.callout-header[data-bs-toggle="collapse"]'
    );

    calloutToggles.forEach(function(toggle) {
        // 2. Force the ARIA role to be 'button'
        // This is crucial because a 'div' is not allowed to use aria-expanded.
        toggle.setAttribute('role', 'button');
        
        // 3. Ensure it is keyboard-focusable (critical for accessibility)
        // Bootstrap usually handles this, but forcing it is safer.
        if (toggle.getAttribute('tabindex') === null) {
             toggle.setAttribute('tabindex', '0');
        }
    });

    // 1. Target all code blocks (Source Code and Code Output <pre> elements)
    // that are scrollable (have overflow:auto/scroll).
var scrollableRegions = document.querySelectorAll(
        // 1. Source Code <pre>
        'div.sourceCode > pre, ' + 
        
        // 2. Output <pre> inside a generic cell-output
        '.cell-output > pre, ' + 
        
        // 3. The main DIV container for cell-output-display (from previous fix)
        '.cell-output-display.cell-output, ' +
        
        // --- NEW SELECTORS TO CATCH ERROR AND ANSI BLOCKS ---
        
        // 4. PRE tag inside any ANSI-escaped output (e.g., .ansi-escaped-output > pre)
        '.ansi-escaped-output > pre, ' +
        
        // 5. The deepest container for error output (e.g., #ID > .cell-output-error... > .ansi-escaped-output > pre)
        '.cell-output-error.cell-output > .ansi-escaped-output > pre, ' +

        'pre[id]' // Target any PRE tag that has an ID attribute (a common source of scrollability)
    );

    scrollableRegions.forEach(function(region) {
        // Check if the element actually has horizontal overflow (is scrollable)
        // Add tabindex="0" to make the region keyboard-focusable.
        if (region.getAttribute('tabindex') === null || region.getAttribute('tabindex') === undefined) {
             region.setAttribute('tabindex', '0');
        }
    });

    // --- Specific Fix for the Last Two Known Violations ---
    document.querySelector('#the-structure-of-kittens\\.html > pre')?.setAttribute('tabindex', '0');
    document.querySelector('#ranges-are-sequences-of-consecutive-numbers > pre')?.setAttribute('tabindex', '0');
});
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/data6\.org\/notes\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../17-dictionaries/file-formats.html" class="pagination-link" aria-label="File Formats">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">File Formats</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../18-html/genius.html" class="pagination-link" aria-label="Genius API Key">
        <span class="nav-page-text">Genius API Key</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page">
<p>Home / About / License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/data-6-berkeley">
<p>GitHub</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://dap.berkeley.edu/get-help/report-web-accessibility-issue">
<p>Accessibility</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://ophd.berkeley.edu/policies-and-procedures/nondiscrimination-policy-statement">
<p>Nondiscrimination</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>